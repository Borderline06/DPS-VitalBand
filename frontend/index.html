<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard - VitalBand</title>
  <link rel="stylesheet" href="css/dashboard.css" />
</head>
<body>
  <div class="dashboard-container">
    <!-- Encabezado de Usuario -->
    <header class="user-header">
      <h2 class="welcome-message">Bienvenido, <span id="userName">Usuario</span></h2>
      <p id="userEmail">usuario@ejemplo.com</p>
    </header>

    <!-- Sección Todas las Opciones -->
    <section class="all-options">
      <h2>Todas las Opciones</h2>
      <div class="options-grid">
        <button id="btnAnalizar" class="option-card">
          <img src="img/icon-analizar.png" alt="Analizar" />
          <span>Analizar</span>
        </button>

        <!-- Botón Emergencia con id para JS -->
        <button class="option-card" id="btnEmergencia">
          <img src="img/icon-emergencia.png" alt="Emergencia" />
          <span>Emergencia</span>
        </button>

        <button class="option-card" id="btnHistorial">
  <img src="img/icon-historial.png" alt="Historial" />
  <span>Historial</span>
</button>
        <button class="option-card">
          <img src="img/icon-agenda.png" alt="Agenda" />
          <span>Agenda</span>
        </button>
        <button class="option-card">
          <img src="img/icon-notificaciones.png" alt="Notificaciones" />
          <span>Notificaciones</span>
        </button>
        <button class="option-card">
          <img src="img/icon-estado.png" alt="Estado" />
          <span>Estado</span>
        </button>
      </div>
    </section>

    <!-- Sección Mi Doctor -->
    <section class="my-doctor">
      <h2>Mi Doctor</h2>
      <div class="doctor-card">
        <img src="img/doctor1.jpg" alt="Dr. Juan Pérez" class="doctor-photo" />
        <div class="doctor-info">
          <h3>Dr. Juan Pérez</h3>
          <p>Consulta Medicina Interna</p>
        </div>
      </div>
      <!-- Puedes agregar más tarjetas de doctor aquí -->
    </section>

    <button id="btnLogout" class="logout-button">Cerrar sesión</button>
  </div>

  <!-- Modal Emergencia -->
  <div id="modalEmergencia" class="modal-overlay" style="display:none;">
    <div class="modal-content">
      <button class="modal-close" id="cerrarModalEmergencia">&times;</button>
      <h2>¡Emergencia!</h2>
      <p>¿Deseas contactar con tu servicio de emergencia ahora?</p>
      <div class="modal-actions">
        <button id="btnLlamarEmergencia" class="btn-emergencia-accion">Llamar</button>
        <button id="btnCancelarEmergencia" class="btn-emergencia-accion">Cancelar</button>
      </div>
    </div>
  </div>

  <script src="js/main.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Mostrar datos de usuario
      const usuarioStr = localStorage.getItem('usuario');
      if (usuarioStr) {
        const usuario = JSON.parse(usuarioStr);
        document.getElementById('userName').textContent = usuario.nombre;
        document.getElementById('userEmail').textContent = usuario.correo;
      } else {
        window.location.href = 'login.html';
      }

      // Logout
      document.getElementById('btnLogout').addEventListener('click', () => {
        localStorage.removeItem('usuario');
        window.location.href = 'login.html';
      });

      // Navegar a análisis
      document.getElementById('btnAnalizar').addEventListener('click', () => {
        window.location.href = 'analisis.html';
      });

      // Modal emergencia
      const btnEmergencia = document.getElementById('btnEmergencia');
      const modalEmergencia = document.getElementById('modalEmergencia');
      const cerrarModal = document.getElementById('cerrarModalEmergencia');
      const btnCancelar = document.getElementById('btnCancelarEmergencia');
      const btnLlamar = document.getElementById('btnLlamarEmergencia');

      btnEmergencia.addEventListener('click', () => {
        modalEmergencia.style.display = 'flex';
      });

      cerrarModal.addEventListener('click', () => {
        modalEmergencia.style.display = 'none';
      });

      btnCancelar.addEventListener('click', () => {
        modalEmergencia.style.display = 'none';
      });

      btnLlamar.addEventListener('click', () => {
        alert('Llamando al servicio de emergencia...');
        modalEmergencia.style.display = 'none';
      });

      modalEmergencia.addEventListener('click', (e) => {
        if (e.target === modalEmergencia) {
          modalEmergencia.style.display = 'none';
        }
      });
    });

    document.getElementById('btnHistorial').addEventListener('click', () => {
  // Aquí puedes decidir qué hacer al hacer clic en Historial
  // Por ejemplo, mostrar un modal, cargar contenido dinámicamente, etc.
  
  // Ejemplo: mostrar alerta (puedes reemplazarlo por tu lógica)
  alert('Aquí iría la lógica para mostrar el historial sin redirigir.');

  // Si quieres redirigir condicionalmente, puedes hacerlo aquí
   window.location.href = 'historial.html';
});
  </script>
</body>
</html>
